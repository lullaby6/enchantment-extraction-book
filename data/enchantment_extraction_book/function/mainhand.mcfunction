execute unless data entity @s Inventory[{Slot:-106b}].components."minecraft:enchantments" run return run item modify entity @s weapon.mainhand enchantment_extraction_book:non_consumable

item modify entity @s weapon.mainhand enchantment_extraction_book:consumable